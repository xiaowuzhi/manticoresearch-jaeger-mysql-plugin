â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                              â•‘
â•‘            å¦‚ä½•æ„å»ºå’Œéƒ¨ç½² Jaeger MySQL æ’ä»¶                 â•‘
â•‘                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“ å½“å‰é—®é¢˜
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ‚¨ç°åœ¨åœ¨: macOS å®¿ä¸»æœº
éœ€è¦åœ¨: Lima K3s VM


ğŸš€ è§£å†³æ–¹æ¡ˆï¼ˆä¸€é”®å®Œæˆï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

åªéœ€ 2 ä¸ªå‘½ä»¤ï¼š

1ï¸âƒ£ è¿›å…¥ Lima VMï¼š

    limactl shell k3s-vm

2ï¸âƒ£ åœ¨ VM ä¸­è¿è¡Œï¼ˆä¼šè‡ªåŠ¨å®‰è£… Goï¼‰ï¼š

    cd /Users/tal/dock/goutils/k3s/lianlu/jaeger-mysql-plugin
    ./INSTALL_GO_IN_VM.sh


âœ¨ INSTALL_GO_IN_VM.sh ä¼šè‡ªåŠ¨ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ æ£€æŸ¥æ˜¯å¦åœ¨ Lima VM ä¸­
âœ“ æ£€æŸ¥ Go æ˜¯å¦å·²å®‰è£…
âœ“ å¦‚æœæœªå®‰è£…ï¼Œè‡ªåŠ¨å®‰è£… Goï¼ˆä½¿ç”¨ aptï¼‰
âœ“ è‡ªåŠ¨è°ƒç”¨ build-without-docker.sh
âœ“ ç¼–è¯‘ Go äºŒè¿›åˆ¶
âœ“ åˆ›å»ºå®¹å™¨é•œåƒï¼ˆä½¿ç”¨ nerdctl/buildah/é™æ€æ„å»ºï¼‰
âœ“ éƒ¨ç½² ManticoreSearch
âœ“ éƒ¨ç½² Jaeger MySQL æ’ä»¶
âœ“ éƒ¨ç½² Jaeger Collector å’Œ Query
âœ“ éªŒè¯éƒ¨ç½²


ğŸ“‹ å®Œæ•´å‘½ä»¤æµç¨‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# åœ¨ macOS å®¿ä¸»æœºä¸Š
limactl shell k3s-vm

# ç°åœ¨åœ¨ Lima VM ä¸­
cd /Users/tal/dock/goutils/k3s/lianlu/jaeger-mysql-plugin
./INSTALL_GO_IN_VM.sh

# ç­‰å¾…å®Œæˆåï¼ŒéªŒè¯
kubectl get pods -n tracing

# è®¿é—® Jaeger UI
# http://localhost:30686


ğŸ” å¦‚æœéœ€è¦æ‰‹åŠ¨æ“ä½œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. è¿›å…¥ Lima VM:
   limactl shell k3s-vm

2. å®‰è£… Goï¼ˆåœ¨ VM ä¸­ï¼‰:
   sudo apt update && sudo apt install -y golang-go

3. éªŒè¯ Go:
   go version

4. æ„å»ºå’Œéƒ¨ç½²:
   cd /Users/tal/dock/goutils/k3s/lianlu/jaeger-mysql-plugin
   ./build-without-docker.sh


ğŸ’¡ ä¸ºä»€ä¹ˆè¦åœ¨ VM ä¸­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ— macOS å®¿ä¸»æœº:
  - æ²¡æœ‰ Docker
  - Go ç¼–è¯‘å‡ºçš„æ˜¯ darwin/arm64 äºŒè¿›åˆ¶ï¼ˆä¸èƒ½åœ¨ Linux å®¹å™¨ä¸­è¿è¡Œï¼‰
  - æ— æ³•ç›´æ¥è®¿é—® K3s containerd

âœ“ Lima K3s VM:
  - Linux ç¯å¢ƒï¼ˆamd64ï¼‰
  - å¯ä»¥ç¼–è¯‘ Linux äºŒè¿›åˆ¶
  - æœ‰ containerd/crictl
  - å¯ä»¥ä½¿ç”¨ nerdctl/buildah
  - ç›´æ¥è®¿é—® K3s


ğŸ¯ é¢„æœŸç»“æœ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ‰€æœ‰ Pods Running:
  manticore-xxx
  jaeger-mysql-plugin-xxx
  jaeger-collector-grpc-xxx
  jaeger-query-grpc-xxx
  jaeger-agent-xxx

Jaeger UI å¯è®¿é—®:
  http://localhost:30686


ğŸ“š ç›¸å…³æ–‡ä»¶
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… INSTALL_GO_IN_VM.sh         - ä¸€é”®å®‰è£… Go å¹¶æ„å»ºï¼ˆæ¨èï¼‰
   build-without-docker.sh     - æ—  Docker æ„å»ºè„šæœ¬
   build-and-deploy.sh         - Docker ç‰ˆæœ¬ï¼ˆéœ€è¦ Dockerï¼‰
   NO_DOCKER.txt               - æ—  Docker è¯´æ˜
   README.md                   - å®Œæ•´æ–‡æ¡£


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç«‹å³å¼€å§‹:

  limactl shell k3s-vm
  cd /Users/tal/dock/goutils/k3s/lianlu/jaeger-mysql-plugin
  ./INSTALL_GO_IN_VM.sh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”



